      - name: Update index.html
        run: |
          INDEX_FILE="index.html"
          PDF_DIR="pdfs"

          echo "üîç Scan des fichiers PDF..."
          FILES=$(ls "$PDF_DIR"/*.pdf 2>/dev/null || true)

          # Supprimer l'ancien bloc entre <h2>Num√©ros disponibles :<\/h2> et <\/ul>
          sed -i '/<h2>Num√©ros disponibles *:<\/h2>/,/<\/ul>/d' "$INDEX_FILE"

          # Ajouter le nouveau bloc
          {
            echo '<h2>Num√©ros disponibles :</h2>'
            echo '<ul>'
            # Liste tri√©e du plus ancien au plus r√©cent (ordre croissant)
            for FILE in $(ls -v "$PDF_DIR"/*.pdf); do
              BASENAME=$(basename "$FILE")

              # D√©tection fichiers nomm√©s Nxxx_YYYY-MM.pdf
              if [[ $BASENAME =~ ^N([0-9]+)_([0-9]{4})-([0-9]{2})\.pdf$ ]]; then
                NUM="${BASH_REMATCH[1]#0}"  # Supprime les z√©ros en t√™te
                YEAR="${BASH_REMATCH[2]}"
                MONTH="${BASH_REMATCH[3]}"

                case $MONTH in
                  01) MONTH_NAME="Janvier" ;;
                  02) MONTH_NAME="F√©vrier" ;;
                  03) MONTH_NAME="Mars" ;;
                  04) MONTH_NAME="Avril" ;;
                  05) MONTH_NAME="Mai" ;;
                  06) MONTH_NAME="Juin" ;;
                  07) MONTH_NAME="Juillet" ;;
                  08) MONTH_NAME="Ao√ªt" ;;
                  09) MONTH_NAME="Septembre" ;;
                  10) MONTH_NAME="Octobre" ;;
                  11) MONTH_NAME="Novembre" ;;
                  12) MONTH_NAME="D√©cembre" ;;
                esac

                echo "  <li><a href=\"pdfs/$BASENAME\" target=\"_blank\">Num√©ro $NUM ‚Äì $MONTH_NAME $YEAR</a></li>"
              else
                echo "  <li><a href=\"pdfs/$BASENAME\" target=\"_blank\">$BASENAME</a></li>"
              fi
            done
            echo '</ul>'
          } >> "$INDEX_FILE"

          echo "‚úÖ Bloc <ul> r√©g√©n√©r√© dans l'ordre croissant et sans z√©ros !"
